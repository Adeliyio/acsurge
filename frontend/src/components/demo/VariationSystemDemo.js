import React, { useState } from 'react';\nimport {\n  Container,\n  Typography,\n  Box,\n  Alert,\n  Paper,\n  Button,\n  Grid\n} from '@mui/material';\nimport { AutoAwesome, Science, Rocket } from '@mui/icons-material';\nimport VariationOptionsCard from '../shared/VariationOptionsCard';\nimport VariationPreview from '../shared/VariationPreview';\nimport { useVariationGenerator } from '../../hooks/useVariationGenerator';\nimport { createAdDraft, createDefaultVariationOptions } from '../../types/adCopy';\n\n/**\n * Demo component showcasing the new universal variation generation system\n * This demonstrates how the system works across all input methods\n */\nconst VariationSystemDemo = () => {\n  const [variationOptions, setVariationOptions] = useState(createDefaultVariationOptions());\n  const [demoAd, setDemoAd] = useState({\n    headline: \"ðŸš€ Transform Your Business with AI-Powered Marketing\",\n    body_text: \"Stop wasting time on manual marketing tasks. Our AI platform creates, optimizes, and manages your campaigns automatically, delivering 3x better results in half the time. Join 10,000+ businesses already growing faster.\",\n    cta: \"Start Free Trial\",\n    platform: \"facebook\",\n    industry: \"SaaS\",\n    target_audience: \"Small business owners\"\n  });\n\n  const {\n    generateSingle,\n    results: variationResults,\n    loading: generatingVariations,\n    error: variationError,\n    clearResults\n  } = useVariationGenerator();\n\n  const handleGenerateVariations = async () => {\n    const adDraft = createAdDraft(demoAd, 'manual');\n    try {\n      await generateSingle(adDraft, variationOptions);\n    } catch (error) {\n      console.error('Demo variation generation failed:', error);\n    }\n  };\n\n  const handleAnalyzeSelected = async (selectedVariations, autoAnalyze) => {\n    // This would normally integrate with the project system\n    console.log('Demo: Analyzing variations:', selectedVariations);\n    alert(`Demo: Would analyze ${selectedVariations.length} variations with all 8 tools!`);\n  };\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n      {/* Header */}\n      <Paper \n        elevation={0}\n        sx={{ \n          p: 4, \n          mb: 3,\n          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n          color: 'white',\n          textAlign: 'center'\n        }}\n      >\n        <Typography variant=\"h3\" gutterBottom sx={{ fontWeight: 800 }}>\n          âœ¨ Universal Variation Generation System\n        </Typography>\n        <Typography variant=\"h6\" sx={{ opacity: 0.9, maxWidth: 800, mx: 'auto' }}>\n          Generate multiple ad copy variations from any input method, then seamlessly analyze them \n          with all 8 AI-powered tools in one click.\n        </Typography>\n      </Paper>\n\n      <Alert severity=\"info\" sx={{ mb: 3 }}>\n        <Typography variant=\"body2\">\n          <strong>ðŸŽ¯ Game Changer:</strong> This system works across all input methods (Manual, Paste, File Upload, Generate) \n          and automatically integrates with your 8 analysis tools for maximum efficiency.\n        </Typography>\n      </Alert>\n\n      <Grid container spacing={3}>\n        {/* Original Ad */}\n        <Grid item xs={12} md={6}>\n          <Paper sx={{ p: 3 }}>\n            <Typography variant=\"h6\" gutterBottom sx={{ fontWeight: 600, display: 'flex', alignItems: 'center', gap: 1 }}>\n              <Rocket color=\"primary\" />\n              Original Ad Copy\n            </Typography>\n            \n            <Box sx={{ mb: 2 }}>\n              <Typography variant=\"subtitle2\" color=\"text.secondary\" sx={{ fontWeight: 600 }}>\n                Headline:\n              </Typography>\n              <Typography variant=\"body1\" sx={{ fontWeight: 500, mb: 1 }}>\n                {demoAd.headline}\n              </Typography>\n            </Box>\n            \n            <Box sx={{ mb: 2 }}>\n              <Typography variant=\"subtitle2\" color=\"text.secondary\" sx={{ fontWeight: 600 }}>\n                Body:\n              </Typography>\n              <Typography variant=\"body2\" sx={{ mb: 1 }}>\n                {demoAd.body_text}\n              </Typography>\n            </Box>\n            \n            <Box sx={{ mb: 2 }}>\n              <Typography variant=\"subtitle2\" color=\"text.secondary\" sx={{ fontWeight: 600 }}>\n                CTA:\n              </Typography>\n              <Typography variant=\"body1\" sx={{ fontWeight: 600, color: 'primary.main' }}>\n                {demoAd.cta}\n              </Typography>\n            </Box>\n          </Paper>\n        </Grid>\n\n        {/* Variation Options */}\n        <Grid item xs={12} md={6}>\n          <VariationOptionsCard\n            options={variationOptions}\n            onChange={setVariationOptions}\n            title=\"ðŸ› ï¸ Customize Generation\"\n          />\n          \n          <Box sx={{ mt: 2, textAlign: 'center' }}>\n            <Button\n              variant=\"contained\"\n              size=\"large\"\n              onClick={handleGenerateVariations}\n              disabled={generatingVariations}\n              startIcon={generatingVariations ? null : <AutoAwesome />}\n              sx={{\n                minWidth: 250,\n                py: 1.5,\n                fontSize: '1.1rem',\n                fontWeight: 700,\n                background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',\n                '&:hover': {\n                  background: 'linear-gradient(135deg, #d97706 0%, #b45309 100%)',\n                  transform: 'translateY(-2px)',\n                }\n              }}\n            >\n              {generatingVariations ? 'âš¡ Generating...' : 'âœ¨ Generate Variations'}\n            </Button>\n          </Box>\n        </Grid>\n      </Grid>\n\n      {/* Error Display */}\n      {variationError && (\n        <Alert severity=\"error\" sx={{ mt: 3 }}>\n          <Typography variant=\"body2\">\n            <strong>Error:</strong> {variationError.message}\n          </Typography>\n        </Alert>\n      )}\n\n      {/* Generated Variations */}\n      {variationResults?.variations?.length > 0 && (\n        <Box sx={{ mt: 4 }}>\n          <VariationPreview\n            variations={variationResults.variations}\n            originalDraft={variationResults.generation_info?.original_draft}\n            onAnalyzeSelected={handleAnalyzeSelected}\n            showAnalysisOptions={true}\n          />\n        </Box>\n      )}\n\n      {/* Features Overview */}\n      <Paper sx={{ p: 4, mt: 4, bgcolor: 'rgba(16, 185, 129, 0.05)' }}>\n        <Typography variant=\"h5\" gutterBottom sx={{ fontWeight: 700, textAlign: 'center', mb: 3 }}>\n          ðŸŽ¯ What Makes This Revolutionary\n        </Typography>\n        \n        <Grid container spacing={3}>\n          <Grid item xs={12} md={4}>\n            <Box sx={{ textAlign: 'center', p: 2 }}>\n              <AutoAwesome sx={{ fontSize: 48, color: 'warning.main', mb: 2 }} />\n              <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 1 }}>\n                Universal Generation\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Works with Manual Input, Paste, File Upload, and AI Generation. \n                One system, all entry points.\n              </Typography>\n            </Box>\n          </Grid>\n          \n          <Grid item xs={12} md={4}>\n            <Box sx={{ textAlign: 'center', p: 2 }}>\n              <Science sx={{ fontSize: 48, color: 'success.main', mb: 2 }} />\n              <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 1 }}>\n                8-Tool Integration\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Automatically runs selected variations through Compliance, Legal, \n                Brand Voice, Psychology, and 4 other analysis tools.\n              </Typography>\n            </Box>\n          </Grid>\n          \n          <Grid item xs={12} md={4}>\n            <Box sx={{ textAlign: 'center', p: 2 }}>\n              <Rocket sx={{ fontSize: 48, color: 'primary.main', mb: 2 }} />\n              <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 1 }}>\n                One-Click Workflow\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                From single ad input to comprehensive analysis across \n                8 different optimization dimensions in seconds.\n              </Typography>\n            </Box>\n          </Grid>\n        </Grid>\n      </Paper>\n\n      {/* Action Buttons */}\n      <Box sx={{ textAlign: 'center', mt: 4 }}>\n        <Button\n          variant=\"outlined\"\n          onClick={clearResults}\n          sx={{ mr: 2 }}\n        >\n          Reset Demo\n        </Button>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => window.open('/analyze', '_blank')}\n        >\n          Try It Live â†’\n        </Button>\n      </Box>\n    </Container>\n  );\n};\n\nexport default VariationSystemDemo;"
